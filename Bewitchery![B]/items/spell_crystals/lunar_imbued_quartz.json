{
	"format_version": "1.18.0",
	"minecraft:item": {
		"description": {
			"identifier": "bw:lunar_imbued_quartz",
			"category": "items"
		},
		"components": {
			"minecraft:creative_category": {
				"parent": "itemGroup.name.essences"
			},
			"minecraft:max_stack_size": 64,
			"minecraft:hand_equipped": false,
			"minecraft:icon": {
				"texture": "lunar_essence"
			},
			"minecraft:cooldown": {
			  "category": "bw:essence_crystal",
			  "duration": 0.5
			},
			"minecraft:on_use": {
			  "on_use": {
			    "event": "imbue_player"
			  }
			}
		},
		"events": {
		  "imbue_player": {
		    "sequence": [
		      {
		        "condition": "q.scoreboard('bw:p_Blocked') == 0",
		        "sequence": [
		          {
		            "condition": "q.scoreboard('bw:spellSlot1') == 0",
        		    "run_command": {
        		      "command": [
        		        "particle bw:lunar_spell_phase_one ~~~",
        		        "playsound random.splash @a[r=6] ~~~ 0.8",
        		        "scoreboard players set @s bw:spellSlot1 4",
        		        "scoreboard players set @s bw:spellTime 0"
        		      ]
        		    },
        		    "decrement_stack": {}
		          },
		          {
		            "condition": "q.scoreboard('bw:spellSlot1') > 0 && q.scoreboard('bw:spellSlot2') == 0",
        		    "run_command": {
        		      "command": [
        		        "particle bw:lunar_spell_phase_two ~~~",
        		        "playsound random.splash @a[r=6] ~~~ 0.8",
        		        "scoreboard players set @s bw:spellSlot2 4",
        		        "scoreboard players set @s bw:spellTime 0"
        		      ]
        		    },
        		    "decrement_stack": {}
		          }
		        ]
		      },
		      {
		        "condition": "q.scoreboard('bw:p_Blocked') == 0 && q.scoreboard('bw:spellSlot1') > 0 && q.scoreboard('bw:spellSlot2') > 0",
		        "sequence": [
		          {
		            "condition": "!(q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 4) && !(q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 5) && !(q.scoreboard('bw:spellSlot1') == 2 && q.scoreboard('bw:spellSlot2') == 2) && !(q.scoreboard('bw:spellSlot1') == 3 && q.scoreboard('bw:spellSlot2') == 4) && !(q.scoreboard('bw:spellSlot1') == 5 && q.scoreboard('bw:spellSlot2') == 6) && !(q.scoreboard('bw:spellSlot1') == 1 && q.scoreboard('bw:spellSlot2') == 1)",
		            "run_command": {
		              "command": [
		                "tellraw @s {\"rawtext\":[{\"text\":\"§cNo such spell exists.§r\"}]}",
		                "scoreboard players set @s bw:spellSlot1 0",
		                "scoreboard players set @s bw:spellSlot2 0",
		                "scoreboard players set @s bw:spellTime 0"
		              ]
		            }
		          },
		          
		          {
		            "sequence": [
		              {
		                "condition": "q.scoreboard('bw:conceal_CD') == 0 && q.scoreboard('bw:lunarAff') >= 1 && q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 4 && (((q.time_of_day >= 0.75 || q.time_of_day <= 0.25) && query.biome_has_any_tag('overworld', 'overworld_generation')) || q.is_in_water || q.scoreboard('bw:Lunar') == 1)",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "effect @s invisibility 60 0 true",
        		                "particle bw:lunar_spellcast ~~~",
        		                "scoreboard players set @s bw:conceal_CD 120",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:conceal_CD') > 0 && q.scoreboard('bw:lunarAff') >= 1 && q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 4 && (((q.time_of_day >= 0.75 || q.time_of_day <= 0.25) && query.biome_has_any_tag('overworld', 'overworld_generation')) || q.is_in_water || q.scoreboard('bw:Lunar') == 1)",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"This spell is on cooldown.\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:conceal_CD') == 0 && q.scoreboard('bw:lunarAff') < 1 && q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 4",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"Your affinity with §3Lunar Magick§r isn't high enough to cast this spell. [1.0%]\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              
		              {
		                "condition": "q.scoreboard('bw:lA_CD') == 0 && q.scoreboard('bw:lunarAff') >= 50 && q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 5 && (((q.time_of_day >= 0.75 || q.time_of_day <= 0.25) && query.biome_has_any_tag('overworld', 'overworld_generation')) || q.is_in_water || q.scoreboard('bw:Lunar') == 1)",
    		            "sequence": [
        		          {
        		            "sequence": [
        		              {
        		                "condition": "q.moon_phase == 7 || q.moon_phase == 0",
            		            "add_mob_effect": {
            		              "effect": "strength",
            		              "target": "holder",
            		              "duration": 60,
            		              "amplifier": 1
            		            },
            		            "run_command": {
            		              "command": [
            		                "scoreboard players set @s bw:lA_CD 1300",
            		                "particle bw:lunar_spellcast ~~~",
            		                "scoreboard players set @s bw:spellSlot1 0",
            		                "scoreboard players set @s bw:spellSlot2 0",
            		                "scoreboard players set @s bw:spellTime 0"
            		              ]
            		            }
        		              },
        		              {
        		                "condition": "q.moon_phase == 1 || q.moon_phase == 2",
            		            "run_command": {
            		              "command": [
            		                "effect @s clear",
            		                "particle bw:lunar_spellcast ~~~",
            		                "scoreboard players set @s bw:lA_CD 600",
            		                "scoreboard players set @s bw:spellSlot1 0",
            		                "scoreboard players set @s bw:spellSlot2 0",
            		                "scoreboard players set @s bw:spellTime 0"
            		              ]
            		            }
        		              },
        		              {
        		                "condition": "q.moon_phase == 3 || q.moon_phase == 4",
            		            "add_mob_effect": {
            		              "effect": "regeneration",
            		              "target": "holder",
            		              "duration": 30,
            		              "amplifier": 0
            		            },
            		            "run_command": {
            		              "command": [
            		                "scoreboard players set @s bw:lA_CD 400",
            		               
            		               "particle bw:lunar_spellcast ~~~",
            		               "scoreboard players set @s bw:spellSlot1 0",
            		                "scoreboard players set @s bw:spellSlot2 0",
            		                "scoreboard players set @s bw:spellTime 0"
            		              ]
            		            }
        		              },
        		              {
        		                "condition": "q.moon_phase == 5 || q.moon_phase == 6",
            		            "add_mob_effect": {
            		              "effect": "absorption",
            		              "target": "holder",
            		              "duration": 90,
            		              "amplifier": 1
            		            },
            		            "run_command": {
            		              "command": [
            		                "scoreboard players set @s bw:lA_CD 1900",
            		                "particle bw:lunar_spellcast ~~~",
            		                "scoreboard players set @s bw:spellSlot1 0",
            		                "scoreboard players set @s bw:spellSlot2 0",
            		                "scoreboard players set @s bw:spellTime 0"
            		              ]
            		            }
        		              }
        		            ],
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:lA_CD') > 0 && q.scoreboard('bw:lunarAff') >= 50 && q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 5 && (((q.time_of_day >= 0.75 || q.time_of_day <= 0.25) && query.biome_has_any_tag('overworld', 'overworld_generation')) || q.is_in_water || q.scoreboard('bw:Lunar') == 1)",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"This spell is on cooldown.\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:lA_CD') == 0 && q.scoreboard('bw:lunarAff') < 50 && q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 5",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"Your affinity with §3Lunar Magick§r isn't high enough to cast this spell. [50.0%]\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 4) || (q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 5)) && q.scoreboard('bw:Lunar') == 1 || ((q.time_of_day >= 0.75 || q.time_of_day <= 0.25) && query.biome_has_any_tag('overworld', 'overworld_generation')) || q.is_in_water",
		                "randomize": [
		                  {
		                    "weight": 25,
		                    "run_command": {
		                      "command": [
		                        "scoreboard players add @s bw:lunarAff 1"
		                      ]
		                    }
		                  },
		                  {
		                    "weight": 75
		                  }
		                ]
		              },
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 4) || (q.scoreboard('bw:spellSlot1') == 4 && q.scoreboard('bw:spellSlot2') == 5)) && !q.scoreboard('bw:Lunar') == 1 && !((q.time_of_day >= 0.75 || q.time_of_day <= 0.25) && query.biome_has_any_tag('overworld', 'overworld_generation')) && !q.is_in_water",
		                "run_command": {
		                  "command": [
		                    "tellraw @s {\"rawtext\":[{\"text\":\"§bThere is not enough Lunar Essence to cast this spell!§r\"}]}",
		                    "scoreboard players set @s bw:spellSlot1 0",
        		            "scoreboard players set @s bw:spellSlot2 0",
        		            "scoreboard players set @s bw:spellTime 0"
		                  ]
		                }
		              }
		            ]
		          },
		          
		          {
		            "sequence": [
		              {
		                "condition": "q.scoreboard('bw:sSun_CD') == 0 && q.scoreboard('bw:solarAff') >= 5 && q.scoreboard('bw:spellSlot1') == 2 && q.scoreboard('bw:spellSlot2') == 2 && ((q.time_of_day >= 0.25 && q.time_of_day <= 0.75 && q.biome_has_any_tag('overworld', 'overworld_generation')) || query.biome_has_any_tag('nether', 'nether_wastes') || q.scoreboard('bw:Solar') == 1)",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "setblock ~~~ bw:solar_light_block 0",
		                        "scoreboard players set @s bw:sSun_CD 120",
		                        "particle bw:solar_spellcast ~~~",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:sSun_CD') > 0 && q.scoreboard('bw:solarAff') >= 5 && q.scoreboard('bw:spellSlot1') == 2 && q.scoreboard('bw:spellSlot2') == 2 && ((q.time_of_day >= 0.25 && q.time_of_day <= 0.75 && q.biome_has_any_tag('overworld', 'overworld_generation')) || query.biome_has_any_tag('nether', 'nether_wastes') || q.scoreboard('bw:Solar') == 1)",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"This spell is on cooldown.\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:sSun_CD') == 0 && q.scoreboard('bw:solarAff') < 5 && q.scoreboard('bw:spellSlot1') == 2 && q.scoreboard('bw:spellSlot2') == 2",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"Your affinity with §cSolar Magick§r isn't high enough to cast this spell. [5.0%]\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 2 && q.scoreboard('bw:spellSlot2') == 2)) && q.scoreboard('bw:Solar') == 1 || (q.time_of_day >= 0.25 && q.time_of_day <= 0.75 && q.biome_has_any_tag('overworld', 'overworld_generation')) || query.biome_has_any_tag('nether', 'nether_wastes')",
		                "randomize": [
		                  {
		                    "weight": 25,
		                    "run_command": {
		                      "command": [
		                        "scoreboard players add @s bw:solarAff 1"
		                      ]
		                    }
		                  },
		                  {
		                    "weight": 75
		                  }
		                ]
		              },
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 2 && q.scoreboard('bw:spellSlot2') == 2)) && !q.scoreboard('bw:Solar') == 1 && !(q.time_of_day >= 0.25 && q.time_of_day <= 0.75 && q.biome_has_any_tag('overworld', 'overworld_generation')) && !query.biome_has_any_tag('nether', 'nether_wastes')",
		                "run_command": {
		                  "command": [
		                    "tellraw @s {\"rawtext\":[{\"text\":\"§cThere is not enough Solar Essence to cast this spell!§r\"}]}",
		                    "scoreboard players set @s bw:spellSlot1 0",
        		            "scoreboard players set @s bw:spellSlot2 0",
        		            "scoreboard players set @s bw:spellTime 0"
		                  ]
		                }
		              }
		            ]
		          },
		          
		          {
		            "sequence": [
		              {
		                "condition": "q.scoreboard('bw:reflect_CD') == 0 && q.scoreboard('bw:skyAff') >= 15 && q.scoreboard('bw:spellSlot1') == 3 && q.scoreboard('bw:spellSlot2') == 4 && query.is_in_water_or_rain || q.scoreboard('bw:Sky') == 1",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "scoreboard players set @s bw:reflect_CD 600",
        		                "particle bw:sky_spellcast ~~~",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:reflect_CD') > 0 && q.scoreboard('bw:skyAff') >= 15 && q.scoreboard('bw:spellSlot1') == 3 && q.scoreboard('bw:spellSlot2') == 4 && query.is_in_water_or_rain || q.scoreboard('bw:Sky') == 1",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"This spell is on cooldown.\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:reflect_CD') == 0 && q.scoreboard('bw:skyAff') < 15 && q.scoreboard('bw:spellSlot1') == 3 && q.scoreboard('bw:spellSlot2') == 4",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"Your affinity with §8Sky Magick§r isn't high enough to cast this spell. [15.0%]\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 3 && q.scoreboard('bw:spellSlot2') == 4)) && q.scoreboard('bw:Sky') == 1 || query.is_in_water_or_rain",
		                "randomize": [
		                  {
		                    "weight": 25,
		                    "run_command": {
		                      "command": [
		                        "scoreboard players add @s bw:skyAff 1"
		                      ]
		                    }
		                  },
		                  {
		                    "weight": 75
		                  }
		                ]
		              },
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 3 && q.scoreboard('bw:spellSlot2') == 4)) && !q.scoreboard('bw:Sky') == 1 && !query.is_in_water_or_rain",
		                "run_command": {
		                  "command": [
		                    "tellraw @s {\"rawtext\":[{\"text\":\"§7There is not enough Sky Essence to cast this spell!§r\"}]}",
		                    "scoreboard players set @s bw:spellSlot1 0",
        		            "scoreboard players set @s bw:spellSlot2 0",
        		            "scoreboard players set @s bw:spellTime 0"
		                  ]
		                }
		              }
		            ]
		          },
		          
		          {
		            "sequence": [
		              {
		                "condition": "q.scoreboard('bw:fAbsorb_CD') == 0 && q.scoreboard('bw:earthAff') >= 25 && q.scoreboard('bw:spellSlot1') == 1 && q.scoreboard('bw:spellSlot2') == 1 && q.scoreboard('bw:Earth') == 1 || q.biome_has_any_tag('overworld', 'overworld_generation')",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "function flower_power",
        		                "scoreboard players set @s bw:fAbsorb_CD 200",
        		                "particle bw:earth_spellcast ~~~",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:fAbsorb_CD') > 0 && q.scoreboard('bw:earthAff') >= 25 && q.scoreboard('bw:spellSlot1') == 1 && q.scoreboard('bw:spellSlot2') == 1 && q.scoreboard('bw:Earth') == 1 || q.biome_has_any_tag('overworld', 'overworld_generation')",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"This spell is on cooldown.\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              {
		                "condition": "q.scoreboard('bw:fAbsorb_CD') == 0 && q.scoreboard('bw:earthAff') < 25 && q.scoreboard('bw:spellSlot1') == 1 && q.scoreboard('bw:spellSlot2') == 1",
    		            "sequence": [
        		          {
        		            "run_command": {
        		              "command": [
        		                "tellraw @s {\"rawtext\":[{\"text\":\"Your affinity with §2Earth Magick§r isn't high enough to cast this spell. [25.0%]\"}]}",
        		                "scoreboard players set @s bw:spellSlot1 0",
        		                "scoreboard players set @s bw:spellSlot2 0",
        		                "scoreboard players set @s bw:spellTime 0"
        		              ]
        		            },
        		            "decrement_stack": {}
        		          }
    		            ]
		              },
		              
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 1 && q.scoreboard('bw:spellSlot2') == 1)) && q.scoreboard('bw:Earth') == 1 || q.biome_has_any_tag('overworld', 'overworld_generation')",
		                "randomize": [
		                  {
		                    "weight": 25,
		                    "run_command": {
		                      "command": [
		                        "scoreboard players add @s bw:earthAff 1"
		                      ]
		                    }
		                  },
		                  {
		                    "weight": 75
		                  }
		                ]
		              },
		              {
		                "condition": "((q.scoreboard('bw:spellSlot1') == 1 && q.scoreboard('bw:spellSlot2') == 1)) && !q.scoreboard('bw:Earth') == 1 && !q.biome_has_any_tag('overworld', 'overworld_generation')",
		                "run_command": {
		                  "command": [
		                    "tellraw @s {\"rawtext\":[{\"text\":\"§2There is not enough Earth Essence to cast this spell!§r\"}]}",
		                    "scoreboard players set @s bw:spellSlot1 0",
        		            "scoreboard players set @s bw:spellSlot2 0",
        		            "scoreboard players set @s bw:spellTime 0"
		                  ]
		                }
		              }
		            ]
		          }
		        ]
		      },
		      {
		        "condition": "q.scoreboard('bw:p_Blocked') == 0 && q.scoreboard('bw:spellSlot1') == 5 && q.scoreboard('bw:spellSlot2') == 6",
		        "sequence": [
		          {
		            "condition": "q.is_sneaking && q.scoreboard('bw:Lunar') == 1",
		            "run_command": {
		              "command": [
		                "playsound beacon.power @a[r=6] ~~~ 0.8",
		                "function warp/set_tp/warp4/initiate",
		                "scoreboard players set @s bw:spellSlot1 0",
		                "scoreboard players set @s bw:spellSlot2 0",
		                "scoreboard players set @s bw:spellTime 0"
		              ]
		            }
		          },
		          {
		            "condition": "q.is_sneaking && q.scoreboard('bw:Lunar') == 0",
		            "run_command": {
		              "command": [
  		              "playsound beacon.deactivate @a[r=6] ~~~ 0.8",
  		              "tellraw @s {\"rawtext\":[{\"text\":\"§3You are not attuned to the Moon. You cannot bind to this Warp.\"}]}",
  		              "scoreboard players set @s bw:spellSlot1 0",
		                "scoreboard players set @s bw:spellSlot2 0",
		                "scoreboard players set @s bw:spellTime 0"
  		            ]
		            }
		          },
		          
		          {
		            "condition": "!q.is_sneaking && (q.scoreboard('bw:warp4X') == 0 && q.scoreboard('bw:warp4Y') == 0 && q.scoreboard('bw:warp4Z') == 0) && (q.player_level >= 1 || q.player_level < 1)",
		            "run_command": {
		              "command": [
  		              "tellraw @s {\"rawtext\":[{\"text\":\"§cThere is no location bound to the §3Moon§c.\"}]}",
		                "scoreboard players set @s bw:spellSlot1 0",
		                "scoreboard players set @s bw:spellSlot2 0",
		                "scoreboard players set @s bw:spellTime 0"
  		            ]
		            }
		          },
		          {
		            "condition": "!q.is_sneaking && (q.scoreboard('bw:warp4X') != 0 && q.scoreboard('bw:warp4Y') != 0 && q.scoreboard('bw:warp4Z') != 0) && q.player_level >= 1",
		            "run_command": {
		              "command": [
  		              "playsound portal.travel @a[r=6] ~~~ 0.5",
  		              "function warp/go_tp/warpTo_4",
  		              "xp -1l @s",
  		              "scoreboard players set @s bw:spellSlot1 0",
  		                "scoreboard players set @s bw:spellSlot2 0",
  		                "scoreboard players set @s bw:spellTime 0"
		              ]
		            }
		          },
		          {
		            "condition": "!q.is_sneaking && (q.scoreboard('bw:warp4X') != 0 && q.scoreboard('bw:warp4Y') != 0 && q.scoreboard('bw:warp4Z') != 0) && q.player_level < 1",
		            "run_command": {
		              "command": [
  		              "playsound beacon.deactivate @a[r=6] ~~~ 0.8",
  		              "tellraw @s {\"rawtext\":[{\"text\":\"§aInsufficient XP Levels!\"}]}",
  		              "scoreboard players set @s bw:spellSlot1 0",
  		                "scoreboard players set @s bw:spellSlot2 0",
  		                "scoreboard players set @s bw:spellTime 0"
		              ]
		            }
		          }
		        ]
		      },
		      {
		        "condition": "q.scoreboard('bw:p_Blocked') >= 1",
		        "run_command": {
		          "command": [
		            "tellraw @s {\"rawtext\":[{\"text\":\"A strange force blocks your connection to the Primal Elements. You are unable to cast spells using crystals.\"}]}"
		          ]
		        }
		      }
		    ]
		  }
		}
	}
}