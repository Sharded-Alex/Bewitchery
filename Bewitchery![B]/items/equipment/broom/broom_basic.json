{
	"format_version": "1.17.0",
	"minecraft:item": {
		"description": {
			"identifier": "bw:broom_basic"
		},
		"components": {
			"minecraft:max_stack_size": 1,
			"minecraft:hand_equipped": true,
			"minecraft:foil": false,
			"minecraft:can_destroy_in_creative": false,
			"minecraft:durability": {
				"max_durability": 75,
				"damage_chance": {
					"min": 0,
					"max": 0
				}
			},
			"minecraft:on_use": {
			  "on_use": {
			    "event": "conjure_broom"
			  }
			},
			"minecraft:icon": {
				"texture": "dusty_broom"
			},
			"minecraft:repairable": {
				"repair_items": [
					{
						"items": [
							"bw:sky_imbued_quartz"
						],
						"repair_amount": 50
					}
				]
			}
		},
		"events": {
		  "conjure_broom": {
		    "sequence": [
		      {
		        "condition": "q.get_ride -> query.is_owner_identifier_any('bw:flying_broom') == 0",
		        "run_command": {
		          "command": [
		            "ride @s summon_ride bw:flying_broom skip_riders",
		            "scoreboard players set @s bw:owner_rider 1"
		          ], 
		          "target": "holder"
		        },
		        "damage": {
		          "type": "none",
		          "amount": 1,
		          "target": "self"
		        }
		      }
		    ]
		  }
		}
	}
}