{
	"format_version": "1.18.0",
	"minecraft:item": {
		"description": {
			"identifier": "bw:warp_gem",
			"category": "items"
		},
		"components": {
			"minecraft:creative_category": {
				"parent": "itemGroup.name.relics"
			},
			"minecraft:max_stack_size": 1,
			"minecraft:foil": true,
			"minecraft:hand_equipped": false,
			"minecraft:icon": {
				"texture": "diamond"
			},
			"minecraft:cooldown": {
			  "category": "bw:warp_gem",
			  "duration": 2.5
			},
			"minecraft:on_use": {
			  "on_use": {
			    "event": "activate_warp"
			  }
			}
		},
		"events": {
		  "activate_warp": {
		    "sequence": [
		      {
		        "condition": "q.is_sneaking && (q.scoreboard('bw:faeRingX') == 0 && q.scoreboard('bw:faeRingY') == 0 && q.scoreboard('bw:faeRingZ') == 0)",
		        "sequence": [
		          {
        		    "run_command": {
        		      "command": [
        		        "function warp/fae_ring/set_fae_ring/initiate",
        		        "particle bw:ender_spell_phase_two ~~~",
        		        "playsound beacon.power @a[r=6] ~~~ 0.6"
        		      ]
        		    }
		          }
		        ]
		      },
		      {
		        "condition": "(q.scoreboard('bw:faeRingX') != 0 && q.scoreboard('bw:faeRingY') != 0 && q.scoreboard('bw:faeRingZ') != 0) && q.scoreboard('bw:enderAff') >= 5",
		        "sequence": [
		          {
        		    "run_command": {
        		      "command": [
        		        "function warp/fae_ring/construct_fae_ring",
        		        "scoreboard players remove @s bw:enderAff 5",
        		        "particle bw:ender_spell_phase_two ~~~",
        		        "playsound beacon.activate @a[r=6] ~~~ 0.6"
        		      ]
        		    }
		          }
		        ]
		      },
		      {
		        "condition": "(q.scoreboard('bw:faeRingX') != 0 && q.scoreboard('bw:faeRingY') != 0 && q.scoreboard('bw:faeRingZ') != 0) && q.scoreboard('bw:enderAff') < 5",
		        "sequence": [
		          {
        		    "run_command": {
        		      "command": [
        		        "tellraw @s {\"rawtext\":[{\"text\":\"You need an §5Ender Affinity of at least 5%§r to create a §dFaery Ring§r.\"}]}",
        		        "particle bw:ender_spell_phase_two ~~~",
        		        "playsound beacon.deactivate @a[r=6] ~~~ 0.6"
        		      ]
        		    }
		          }
		        ]
		      }
		    ]
		  }
		}
	}
}